# training01

## メモリチューニング(作業時間目安30分)
このtrainingではメモリアクセスとDiskアクセスによる性能差を体験し学びます

### [ターミナル1] レスポンスの確認
curlにて現在のレスポンスを確認

```
$ curl http://localhost/tuning01
```

### 負荷検証
同時実行数を`-c 10`で動作確認をしましょう
#### [ターミナル1] siegeを実行する(-c 10)

```
$ siege -c 30 http://localhost/tuning01
```

#### [ターミナル2] processlistの確認
何度かprocesslistの確認は行いましょう

```
mysql> show full purocesslist;
```

#### [ターミナル3] MySQL スローログの確認
`tail`で出力しているスローログが、siege実行中にスローログが出ているか確認しましょう


#### [ターミナル3] リソース統計情報の確認
siege実行中にどのリソースが利用されているか、siege実行前との違いなども確認しましょう

#### ブラウザ
siege実行中にブラウザで`/tuning01`を開いてみましょう

----
### Mission INDEX以外のボトルネック解消方法の調査
TutorialではINDEXを作成することでSQLのレスポンスが飛躍的に向上しました。今回はINDEXを作成せず現状より(少しでも)レスポンスタイムを早くする方法を調査してみましょう

#### ヒント
[ターミナル3]で確認できるDiskI/Oを発生させない方法について調査してみましょう

----
### Mission INDEX以外のボトルネック解消方法の実施
調査した解消方法を実際にためしてみましょう。解消方法を実施後[ターミナル1]からsiegeでのレスポンスタイムに違いがあるか確認しましょう
#### ヒント
設定ファイル(rootで変更)`/etc/my.cnf`の値の編集が必要です

MySQLの設定後、再起動が必要です(rootで実施)

```
# systemctl restart mysql
```
----



